<!DOCTYPE html>
<html lang="en">
<head>
<!-- Auto-generated via Perplexity on 2025-11-05T13:29:55.041182Z -->

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width,initial-scale=1'>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Accessible Reading Assistant</title>
  <style>
    :root {
      --bg-color: #fff;
      --text-color: #000;
      --highlight-color: #e0e0e0;
      --guide-color: #ffcc00;
      --border-color: #ccc;
    }
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      transition: background-color 0.3s, color 0.3s;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 1rem;
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1rem;
      padding: 1rem;
      background-color: var(--highlight-color);
      border: 1px solid var(--border-color);
      border-radius: 4px;
    }
    .controls button, .controls select, .controls input {
      padding: 0.5rem;
      font-size: 1rem;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      background-color: #fff;
      color: var(--text-color);
      cursor: pointer;
    }
    .controls button:focus, .controls select:focus, .controls input:focus {
      outline: 2px solid #007acc;
      outline-offset: 2px;
    }
    .content-area {
      position: relative;
      min-height: 40vh;
      padding: 1rem;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      background-color: var(--bg-color);
      color: var(--text-color);
      line-height: 1.5;
      font-size: 16px;
      font-family: Arial, sans-serif;
    }
    .reading-guide {
      position: absolute;
      left: 0;
      right: 0;
      height: 1.5em;
      background-color: var(--guide-color);
      opacity: 0.3;
      pointer-events: none;
      z-index: 10;
    }
    .content-area p {
      margin: 0.5em 0;
    }
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0,0,0,0);
      white-space: nowrap;
      border: 0;
    }
    @media (prefers-contrast: high) {
      body.high-contrast, body.high-contrast-dark {
        background-color: #000;
        color: #fff;
      }
    }
    @media (prefers-reduced-motion: reduce) {
      body, .reading-guide {
        transition: none;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Accessible Reading Assistant</h1>
    <div class="controls" role="toolbar" aria-label="Reading controls">
      <label for="text-size">Text Size:</label>
      <input type="range" id="text-size" min="12" max="36" value="16" aria-label="Adjust text size" />

      <label for="line-height">Line Height:</label>
      <input type="range" id="line-height" min="1" max="3" step="0.1" value="1.5" aria-label="Adjust line height" />

      <label for="letter-spacing">Letter Spacing:</label>
      <input type="range" id="letter-spacing" min="0" max="1" step="0.1" value="0" aria-label="Adjust letter spacing" />

      <label for="font-family">Font:</label>
      <select id="font-family" aria-label="Choose font family">
        <option value="Arial, sans-serif">Arial</option>
        <option value="'Times New Roman', serif">Times New Roman</option>
        <option value="'Courier New', monospace">Courier New</option>
        <option value="'Comic Sans MS', cursive">Comic Sans MS</option>
      </select>

      <label for="theme">Theme:</label>
      <select id="theme" aria-label="Choose color theme">
        <option value="normal">Normal</option>
        <option value="high-contrast">High Contrast</option>
        <option value="high-contrast-dark">High Contrast Dark</option>
        <option value="inverted">Inverted Colors</option>
      </select>

      <button id="toggle-guide" aria-pressed="false">Toggle Reading Guide</button>
      <button id="tts-toggle" aria-pressed="false">Text-to-Speech</button>
      <button id="auto-scroll" aria-pressed="false">Auto-Scroll</button>
      <button id="import-settings">Import Settings</button>
      <button id="export-settings">Export Settings</button>
      <button id="reset">Reset to Defaults</button>
    </div>

    <label for="content-input">Paste or load your reading content:</label>
    <textarea id="content-input" rows="6" placeholder="Paste your text here..." aria-label="Reading content input"></textarea>
    <button id="load-content">Load Content</button>

    <div class="content-area" id="content-area" tabindex="0" role="region" aria-label="Reading content">
      <p>Welcome to the Accessible Reading Assistant. Paste your text above and customize your reading experience.</p>
    </div>
  </div>

  <script>
    // Elements
    const textSize = document.getElementById('text-size');
    const lineHeight = document.getElementById('line-height');
    const letterSpacing = document.getElementById('letter-spacing');
    const fontFamily = document.getElementById('font-family');
    const theme = document.getElementById('theme');
    const toggleGuide = document.getElementById('toggle-guide');
    const ttsToggle = document.getElementById('tts-toggle');
    const autoScroll = document.getElementById('auto-scroll');
    const importSettings = document.getElementById('import-settings');
    const exportSettings = document.getElementById('export-settings');
    const reset = document.getElementById('reset');
    const contentInput = document.getElementById('content-input');
    const loadContent = document.getElementById('load-content');
    const contentArea = document.getElementById('content-area');

    // Reading guide
    const guide = document.createElement('div');
    guide.className = 'reading-guide';
    guide.setAttribute('aria-hidden', 'true');
    contentArea.appendChild(guide);

    // State
    let guideActive = false;
    let ttsActive = false;
    let autoScrollActive = false;
    let autoScrollInterval = null;
    let utterance = null;
    let synth = window.speechSynthesis;

    // Load settings from localStorage
    function loadSettings() {
      const saved = localStorage.getItem('readingAssistantSettings');
      if (saved) {
        const settings = JSON.parse(saved);
        textSize.value = settings.textSize || 16;
        lineHeight.value = settings.lineHeight || 1.5;
        letterSpacing.value = settings.letterSpacing || 0;
        fontFamily.value = settings.fontFamily || 'Arial, sans-serif';
        theme.value = settings.theme || 'normal';
        guideActive = settings.guideActive || false;
        ttsActive = settings.ttsActive || false;
        autoScrollActive = settings.autoScrollActive || false;
        contentInput.value = settings.content || '';
        updateStyles();
        toggleGuide.setAttribute('aria-pressed', guideActive);
        ttsToggle.setAttribute('aria-pressed', ttsActive);
        autoScroll.setAttribute('aria-pressed', autoScrollActive);
        if (guideActive) guide.style.display = 'block';
        else guide.style.display = 'none';
        if (autoScrollActive) startAutoScroll();
      }
    }

    // Save settings to localStorage
    function saveSettings() {
      const settings = {
        textSize: textSize.value,
        lineHeight: lineHeight.value,
        letterSpacing: letterSpacing.value,
        fontFamily: fontFamily.value,
        theme: theme.value,
        guideActive,
        ttsActive,
        autoScrollActive,
        content: contentInput.value
      };
      localStorage.setItem('readingAssistantSettings', JSON.stringify(settings));
    }

    // Update styles
    function updateStyles() {
      contentArea.style.fontSize = `${textSize.value}px`;
      contentArea.style.lineHeight = lineHeight.value;
      contentArea.style.letterSpacing = `${letterSpacing.value}em`;
      contentArea.style.fontFamily = fontFamily.value;

      document.body.className = '';
      if (theme.value === 'high-contrast') {
        document.body.classList.add('high-contrast');
      } else if (theme.value === 'high-contrast-dark') {
        document.body.classList.add('high-contrast-dark');
      } else if (theme.value === 'inverted') {
        document.body.style.filter = 'invert(1)';
      } else {
        document.body.style.filter = 'none';
      }
    }

    // Toggle reading guide
    toggleGuide.addEventListener('click', () => {
      guideActive = !guideActive;
      guide.style.display = guideActive ? 'block' : 'none';
      toggleGuide.setAttribute('aria-pressed', guideActive);
      saveSettings();
    });

    // Move guide with mouse
    contentArea.addEventListener('mousemove', (e) => {
      if (guideActive) {
        const rect = contentArea.getBoundingClientRect();
        const top = e.clientY - rect.top - (parseFloat(contentArea.style.lineHeight) * 16) / 2;
        guide.style.top = `${top}px`;
      }
    });

    // Move guide with keyboard
    contentArea.addEventListener('keydown', (e) => {
      if (guideActive && (e.key === 'ArrowUp' || e.key === 'ArrowDown')) {
        e.preventDefault();
        const rect = contentArea.getBoundingClientRect();
        const currentTop = parseFloat(guide.style.top) || 0;
        const lineHeight = parseFloat(contentArea.style.lineHeight) * 16;
        const delta = e.key === 'ArrowUp' ? -lineHeight : lineHeight;
        const newTop = Math.max(0, Math.min(rect.height - lineHeight, currentTop + delta));
        guide.style.top = `${newTop}px`;
      }
    });

    // Text-to-speech
    ttsToggle.addEventListener('click', () => {
      ttsActive = !ttsActive;
      ttsToggle.setAttribute('aria-pressed', ttsActive);
      if (ttsActive) {
        utterance = new SpeechSynthesisUtterance(contentArea.textContent);
        utterance.onend = () => {
          ttsActive = false;
          ttsToggle.setAttribute('aria-pressed', 'false');
        };
        synth.speak(utterance);
      } else {
        synth.cancel();
      }
      saveSettings();
    });

    // Auto-scroll
    function startAutoScroll() {
      if (autoScrollInterval) clearInterval(autoScrollInterval);
      autoScrollInterval = setInterval(() => {
        contentArea.scrollTop += 20;
      }, 500);
    }
    function stopAutoScroll() {
      if (autoScrollInterval) clearInterval(autoScrollInterval);
      autoScrollInterval = null;
    }
    autoScroll.addEventListener('click', () => {
      autoScrollActive = !autoScrollActive;
      autoScroll.setAttribute('aria-pressed', autoScrollActive);
      if (autoScrollActive) startAutoScroll();
      else stopAutoScroll();
      saveSettings();
    });

    // Import/Export settings
    importSettings.addEventListener('click', () => {
      const file = prompt('Paste exported settings JSON:');
      if (file) {
        try {
          const settings = JSON.parse(file);
          textSize.value = settings.textSize || 16;
          lineHeight.value = settings.lineHeight || 1.5;
          letterSpacing.value = settings.letterSpacing || 0;
          fontFamily.value = settings.fontFamily || 'Arial, sans-serif';
          theme.value = settings.theme || 'normal';
          guideActive = settings.guideActive || false;
          ttsActive = settings.ttsActive || false;
          autoScrollActive = settings.autoScrollActive || false;
          contentInput.value = settings.content || '';
          updateStyles();
          toggleGuide.setAttribute('aria-pressed', guideActive);
          ttsToggle.setAttribute('aria-pressed', ttsActive);
          autoScroll.setAttribute('aria-pressed', autoScrollActive);
          if (guideActive) guide.style.display = 'block';
          else guide.style.display = 'none';
          if (autoScrollActive) startAutoScroll();
          saveSettings();
        } catch (e) {
          alert('Invalid JSON');
        }
      }
    });

    exportSettings.addEventListener('click', () => {
      const settings = {
        textSize: textSize.value,
        lineHeight: lineHeight.value,
        letterSpacing: letterSpacing.value,
        fontFamily: fontFamily.value,
        theme: theme.value,
        guideActive,
        ttsActive,
        autoScrollActive,
        content: contentInput.value
      };
      const json = JSON.stringify(settings, null, 2);
      prompt('Copy settings JSON:', json);
    });

    // Reset
    reset.addEventListener('click', () => {
      textSize.value = 16;
      lineHeight.value = 1.5;
      letterSpacing.value = 0;
      fontFamily.value = 'Arial, sans-serif';
      theme.value = 'normal';
      guideActive = false;
      ttsActive = false;
      autoScrollActive = false;
      contentInput.value = '';
      updateStyles();
      toggleGuide.setAttribute('aria-pressed', 'false');
      ttsToggle.setAttribute('aria-pressed', 'false');
      autoScroll.setAttribute('aria-pressed', 'false');
      guide.style.display = 'none';
      stopAutoScroll();
      contentArea.innerHTML = '<p>Welcome to the Accessible Reading Assistant. Paste your text above and customize your reading experience.</p>';
      localStorage.removeItem('readingAssistantSettings');
    });

    // Load content
    loadContent.addEventListener('click', () => {
      contentArea.innerHTML = contentInput.value.split('\n').map(line => `<p>${line}</p>`).join('');
      saveSettings();
    });

    // Share via URL hash
    function updateHash() {
      const settings = {
        textSize: textSize.value,
        lineHeight: lineHeight.value,
        letterSpacing: letterSpacing.value,
        fontFamily: fontFamily.value,
        theme: theme.value,
        guideActive,
        ttsActive,
        autoScrollActive,
        content: contentInput.value
      };
      const hash = btoa(JSON.stringify(settings));
      window.location.hash = hash;
    }
    window.addEventListener('hashchange', () => {
      if (window.location.hash) {
        try {
          const hash = window.location.hash.substring(1);
          const settings = JSON.parse(atob(hash));
          textSize.value = settings.textSize || 16;
          lineHeight.value = settings.lineHeight || 1.5;
          letterSpacing.value = settings.letterSpacing || 0;
          fontFamily.value = settings.fontFamily || 'Arial, sans-serif';
          theme.value = settings.theme || 'normal';
          guideActive = settings.guideActive || false;
          ttsActive = settings.ttsActive || false;
          autoScrollActive = settings.autoScrollActive || false;
          contentInput.value = settings.content || '';
          updateStyles();
          toggleGuide.setAttribute('aria-pressed', guideActive);
          ttsToggle.setAttribute('aria-pressed', ttsActive);
          autoScroll.setAttribute('aria-pressed', autoScrollActive);
          if (guideActive) guide.style.display = 'block';
          else guide.style.display = 'none';
          if (autoScrollActive) startAutoScroll();
          contentArea.innerHTML = contentInput.value.split('\n').map(line => `<p>${line}</p>`).join('');
        } catch (e) {
          // Invalid hash
        }
      }
    });

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      if (e.ctrlKey && e.key === 'r') {
        e.preventDefault();
        ttsToggle.click();
      } else if (e.ctrlKey && e.key === 'g') {
        e.preventDefault();
        toggleGuide.click();
      } else if (e.ctrlKey && e.key === 'a') {
        e.preventDefault();
        autoScroll.click();
      }
    });

    // Initialize
    loadSettings();
    updateStyles();
    window.addEventListener('beforeunload', saveSettings);
  </script>
</body>
</html>